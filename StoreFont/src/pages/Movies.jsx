const dummy = [
  {
   id: "6545b9d1e5181b58e51a21f1",
    adult: false,
    backdrop_path: "/t5zCBSB5xMDKcDqe91qahCOUYVV.jpg",
    genre_ids: [27, 9648],
    original_language: "en",
    original_title: "Five Nights at Freddy's",
    overview:
      "Recently fired and desperate for work, a troubled young man named Mike agrees to take a position as a night security guard at an abandoned theme restaurant: Freddy Fazbear's Pizzeria. But he soon discovers that nothing at Freddy's is what it seems.",
    popularity: 5378.969,
    poster_path: "/A4j8S6moJS2zNtRR8oWF08gRnL5.jpg",
    release_date: "2023-10-25",
    title: "Five Nights at Freddy's",
    video: "false",
    vote_average: 8.343,
    vote_count: 1359,
  },
  {
   id: "65969e07f8e3244ad623e97e",
    adult: false,
    backdrop_path: "/sRLC052ieEzkQs9dEtPMfFxYkej.jpg",
    genre_ids: [878],
    original_language: "en",
    original_title: "Rebel Moon - Part One: A Child of Fire",
    overview:
      "When a peaceful colony on the edge of the galaxy finds itself threatened by the armies of the tyrannical Regent Balisarius, they dispatch Kora, a young woman with a mysterious past, to seek out warriors from neighboring planets to help them take a stand.",
    popularity: 2998.858,
    poster_path: "/ui4DrH1cKk2vkHshcUcGt2lKxCm.jpg",
    release_date: "2023-12-15",
    title: "Rebel Moon - Part One: A Child of Fire",
    video: "false",
    vote_average: 6.46,
    vote_count: 955,
  },
  {
   id: "65969e07f8e3244ad623e97f",
    adult: false,
    backdrop_path: "/5a4JdoFwll5DRtKMe7JLuGQ9yJm.jpg",
    genre_ids: [18, 878, 28],
    original_language: "en",
    original_title: "The Hunger Games: The Ballad of Songbirds & Snakes",
    overview:
      "64 years before he becomes the tyrannical president of Panem, Coriolanus Snow sees a chance for a change in fortunes when he mentors Lucy Gray Baird, the female tribute from District 12.",
    popularity: 2750.026,
    poster_path: "/mBaXZ95R2OxueZhvQbcEWy2DqyO.jpg",
    release_date: "2023-11-15",
    title: "The Hunger Games: The Ballad of Songbirds & Snakes",
    video: "false",
    vote_average: 7.246,
    vote_count: 1295,
  },
  {
   id: "65969e07f8e3244ad623e981",
    adult: false,
    backdrop_path: "/r9bIkU9nXZUWSlDUgDMUcDrlK0A.jpg",
    genre_ids: [28, 35],
    original_language: "en",
    original_title: "The Family Plan",
    overview:
      "Dan Morgan is many things: a devoted husband, a loving father, a celebrated car salesman. He's also a former assassin. And when his past catches up to his present, he's forced to take his unsuspecting family on a road trip unlike any other.",
    popularity: 2069.624,
    poster_path: "/jLLtx3nTRSLGPAKl4RoIv1FbEBr.jpg",
    release_date: "2023-12-14",
    title: "The Family Plan",
    video: "false",
    vote_average: 7.374,
    vote_count: 547,
  },
  {
   id: "6545b9d1e5181b58e51a21f2",
    adult: false,
    backdrop_path: "/dZbLqRjjiiNCpTYzhzL2NMvz4J0.jpg",
    genre_ids: [27, 53],
    original_language: "en",
    original_title: "Saw X",
    overview:
      "Between the events of 'Saw' and 'Saw II', a sick and desperate John Kramer travels to Mexico for a risky and experimental medical procedure in hopes of a miracle cure for his cancer, only to discover the entire operation is a scam to defraud the most vulnerable. Armed with a newfound purpose, the infamous serial killer returns to his work, turning the tables on the con artists in his signature visceral way through devious, deranged, and ingenious traps.",
    popularity: 1988.708,
    poster_path: "/aQPeznSu7XDTrrdCtT5eLiu52Yu.jpg",
    release_date: "2023-09-26",
    title: "Saw X",
    video:
      "https://firebasestorage.googleapis.com/v0/b/netflixclone-1c807.appspot.com/o/movies%2F%5BVietsub%2BTiktok%5D%20Phi%20%C4%90i%E1%BB%83u%20V%C3%A0%20Ve%20S%E1%BA%A7u%20-%20Nh%E1%BA%ADm%20Nhi%C3%AAn%20-%20%E9%A3%9E%E9%B8%9F%E5%92%8C%E8%9D%89%20-%20%E4%BB%BB%E7%84%B6%20-%20Nh%E1%BA%A1c%20Hoa%20t%C3%A2m%20tr%E1%BA%A1ng.mp4?alt=media&token=2cfb1c41-09df-4577-bafa-0f5239e36d1d",
    vote_average: 7.375,
    vote_count: 764,
    updatedAt: "2023-12-29T14:04:14.016Z",
  },
  {
   id: "6545b9d1e5181b58e51a21f3",
    adult: false,
    backdrop_path: "/eSsMzJpzAwCa69tm6Wco2il44aJ.jpg",
    genre_ids: [28, 80, 18, 53],
    original_language: "en",
    original_title: "Muzzle",
    overview:
      "LAPD K-9 officer Jake Rosser has just witnessed the shocking murder of his dedicated partner by a mysterious assailant. As he investigates the shooter’s identity, he uncovers a vast conspiracy that has a chokehold on the city in this thrilling journey through the tangled streets of Los Angeles and the corrupt bureaucracy of the LAPD.",
    popularity: 1833.295,
    poster_path: "/qXChf7MFL36BgoLkiB3BzXiwW82.jpg",
    release_date: "2023-09-29",
    title: "Muzzle",
    video: "false",
    vote_average: 6.2,
    vote_count: 61,
  },
  {
   id: "6545b9d1e5181b58e51a21f4",
    adult: false,
    backdrop_path: "/askg3SMvhqEl4OL52YuvdtY40Yb.jpg",
    genre_ids: [10751, 16, 14, 10402, 35, 12],
    original_language: "en",
    original_title: "Coco",
    overview:
      "Despite his family’s baffling generations-old ban on music, Miguel dreams of becoming an accomplished musician like his idol, Ernesto de la Cruz. Desperate to prove his talent, Miguel finds himself in the stunning and colorful Land of the Dead following a mysterious chain of events. Along the way, he meets charming trickster Hector, and together, they set off on an extraordinary journey to unlock the real story behind Miguel's family history.",
    popularity: 1804.044,
    poster_path: "/gGEsBPAijhVUFoiNpgZXqRVWJt2.jpg",
    release_date: "2017-10-27",
    title: "Coco",
    video: "false",
    vote_average: 8.218,
    vote_count: 18019,
  },
  {
   id: "65969e07f8e3244ad623e982",
    adult: false,
    backdrop_path: "/gg4zZoTggZmpAQ32qIrP5dtnkEZ.jpg",
    genre_ids: [28, 80],
    original_language: "en",
    original_title: "Silent Night",
    overview:
      "A tormented father witnesses his young son die when caught in a gang's crossfire on Christmas Eve. While recovering from a wound that costs him his voice, he makes vengeance his life's mission and embarks on a punishing training regimen in order to avenge his son's death.",
    popularity: 1797.04,
    poster_path: "/tlcuhdNMKNGEVpGqBZrAaOOf1A6.jpg",
    release_date: "2023-11-30",
    title: "Silent Night",
    video: "false",
    vote_average: 5.849,
    vote_count: 222,
  },
  {
   id: "6545b9d1e5181b58e51a21f5",
    adult: false,
    backdrop_path: "/gN79aDbZdaSJkFS1iVA17HplF2X.jpg",
    genre_ids: [27, 9648, 53],
    original_language: "en",
    original_title: "The Nun II",
    overview:
      "In 1956 France, a priest is violently murdered, and Sister Irene begins to investigate. She once again comes face-to-face with a powerful evil.",
    popularity: 1577.995,
    poster_path: "/5gzzkR7y3hnY8AD1wXjCnVlHba5.jpg",
    release_date: "2023-09-06",
    title: "The Nun II",
    video: "false",
    vote_average: 6.952,
    vote_count: 1273,
  },
  {
   id: "6545b9d1e5181b58e51a21f6",
    adult: false,
    backdrop_path: "/azD31DjpV3PJfjF3h72LVw2WCSD.jpg",
    genre_ids: [27],
    original_language: "en",
    original_title: "The Exorcist: Believer",
    overview:
      "When two girls disappear into the woods and return three days later with no memory of what happened to them, the father of one girl seeks out Chris MacNeil, who's been forever altered by what happened to her daughter fifty years ago.",
    popularity: 1562.164,
    poster_path: "/qVKirUdmoex8SdfUk8WDDWwrcCh.jpg",
    release_date: "2023-10-04",
    title: "The Exorcist: Believer",
    video: "false",
    vote_average: 6.15,
    vote_count: 414,
  },
];
import ReactPaginate from "react-paginate";
import { useState } from "react";
import { Link, useLocation,useNavigate } from "react-router-dom";
export default function Movies() {
  const itemsPerPage = 5;
  // boilerplate for pagination
  const [itemOffset, setItemOffset] = useState(0);
  const location = useLocation();
  const navigate = useNavigate();

  // Simulate fetching items from another resources.
  // (This could be items from props; or items loaded in a local state
  // from an API endpoint with useEffect and useState)
  const endOffset = itemOffset + itemsPerPage;
  console.log(`Loading items from ${itemOffset} to ${endOffset}`);
  const currentItems = dummy.slice(itemOffset, endOffset);
  const pageCount = Math.ceil(dummy.length / itemsPerPage);

  // Invoke when user click to request another page.
  const handlePageClick = (event) => {
    const newOffset = (event.selected * itemsPerPage) % dummy.length;
    console.log(
      `User requested page number ${event.selected}, which is offset ${newOffset}`
    );
    setItemOffset(newOffset);
  };
  
  //  end boilerplate

  return (
    <div>
      <h1>Movies</h1>

      <div className="relative overflow-x-auto">
        <table className="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
          <thead className="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" className="px-6 py-3">
                Title
              </th>
              <th scope="col" className="px-6 py-3">
                Genre
              </th>
              <th scope="col" className="px-6 py-3">
                Released_Date
              </th>
              <th scope="col" className="px-6 py-3">
                Action
              </th>
            </tr>
          </thead>
          <tbody>
            {dummy.map((movie) => (
              <tr key={movie._id} className="">
                <th
                  scope="row"
                  className="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"
                >
                  {movie.title}
                </th>
                <td className="px-6 py-4">{movie.genre_ids}</td>
                <td className="px-6 py-4">{movie.release_date}</td>
                <td className="space-x-2 flex justify-start">
                  <Link
                    type="button"
                    className="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"
                    to={`/movies/${movie.id}`}
                    state={movie}
                  >
                    Details
                  </Link>
                  <button
                    type="button"
                    className="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
                  >
                    Delete
                  </button>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
        {/* pagination */}
        <ReactPaginate
          activeClassName="bg-red-600 hover:bg-red-700 transiton-colors duration-300 	"
          previousClassName="border  border-black py-1 md:px-5  hover:text-black transition-all duration-300 md:text-xl text-xs px-2"
          nextClassName="border  border-black py-1 md:px-5  hover:text-black transition-all duration-300 md:text-xl text-xs px-2"
          disabledClassName="bg-gray-400  md:text-lg text-sm px-2 "
          pageClassName="border md:text-xl text-xs  border-black p-1 md:px-4  hover:text-black transition-all duration-300 px-2"
          breakLabel="..."
          nextLabel="Next >"
          onPageChange={handlePageClick}
          pageRangeDisplayed={5}
          pageCount={pageCount}
          previousLabel="< Previous"
          renderOnZeroPageCount={null}
          className="flex gap-2  w-full justify-center items-center py-2"
        />
      </div>
    </div>
  );
}
